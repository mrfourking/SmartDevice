"use strict";!function(){function t(t){return function(){var e;(e=t).classList.add("footer__title--active"),e.nextElementSibling.classList.add("accordion--open"),n&&(n.classList.remove("footer__title--active"),n.nextElementSibling.classList.remove("accordion--open")),n=n===e?0:e}}var n,e=document.querySelectorAll(".accordion"),o=document.querySelectorAll(".footer__title");e.forEach(function(e){e.classList.remove("accordion--nojs")}),o.forEach(function(e){e.addEventListener("click",t(e))})}(),function(){var e=document.querySelectorAll(".about p"),n=[];e.forEach(function(e){n.push(e.innerText)});var t;window.addEventListener("resize",function(){t=t||setTimeout(function(){t=null,document.body.clientWidth<=1023?e.forEach(function(e){var t=e.innerText;200<t.length&&(e.innerText=t.substr(0,200)+"..")}):e.forEach(function(e,t){e.innerText=n[t]})},66)},!1)}(),function(){function n(e){var t=0,n=e.value;n.substr(t,a.length)!==a?e.setCustomValidity(c):(t+=a.length,isNaN(Number(n.substr(t,3)))?e.setCustomValidity(c):(t+=3,")"!==n.substr(t,1)?e.setCustomValidity(c):(t+=")".length,isNaN(Number(n.substr(t,3)))?e.setCustomValidity(c):(t+=3,n.substr(t,1)!==r?e.setCustomValidity(c):(t+=r.length,isNaN(Number(n.substr(t,2)))?e.setCustomValidity(c):(t+=2,n.substr(t,1)!==r?e.setCustomValidity(c):(t+=r.length,isNaN(Number(n.substr(t,2)))||n.substr(t,2).length<2?e.setCustomValidity(c):e.setCustomValidity(""))))))))}function o(e){if(e.value.length<16)switch(e.value.length){case 0:case 1:case 2:case 3:e.value=a;break;case 6:e.value+=")";break;case 10:case 13:e.value+=r}}var a="+7(",r="-",c="Номер телефона не соответствует формату +7(ХХХ)ХХХ-ХХ-ХХ",e=document.querySelectorAll('input[type="tel"]');e.forEach(function(e){e.addEventListener("focus",function(){var t;o(e),e.addEventListener("input",(t=e,function(e){e.stopPropagation(),e.preventDefault(),t.value.length<4&&null===e.data&&(t.value=a),/[\d]/g.test(e.data)?o(t):t.value=t.value.replace(/[^0-9\+\(\-)]/,""),n(t)}))}),e.addEventListener("blur",function(){e.value.length<=a.length&&(e.value="")})}),window.inputMask={checkPhoneNumber:n}}(),function(){var e=document.querySelector(".header__callback-button"),t=document.querySelector(".modal"),n=t.querySelector(".callback-form__button-close"),o=t.querySelector("#name-modal"),a=t.querySelector("#phone-modal"),r=t.querySelector("#question-modal"),c=!0,l="",i="",u="";try{l=localStorage.getItem("userName"),i=localStorage.getItem("userPhone"),u=localStorage.getItem("userMessage")}catch(e){c=!1}function s(){t.classList.remove("modal--open"),document.body.classList.remove("scroll-hidden"),document.removeEventListener("keydown",f),document.removeEventListener("click",m)}function d(){s(),c&&(localStorage.setItem("userName",o.value),localStorage.setItem("userPhone",a.value),localStorage.setItem("userMessage",r.value))}var f=function(e){27===e.keyCode&&s()},m=function(e){e.target===t||t.contains(e.target)||s()};e.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),t.classList.add("modal--open"),document.body.classList.add("scroll-hidden"),o.focus(),c&&(o.value=l,a.value=i,r.value=u),document.addEventListener("keydown",f),document.addEventListener("click",m)}),t.addEventListener("submit",function(){window.inputMask.checkPhoneNumber(a),d()}),n.addEventListener("click",function(e){e.preventDefault(),d()})}(),function(){function o(n){return function(){var e,t;(t=(e=n)/20)>window.pageYOffset-e&&window.innerHeight+window.pageYOffset<document.body.offsetHeight?window.scrollBy(0,t):(window.scrollTo(0,e),clearInterval(window.scroller))}}var e=document.querySelector(".main").querySelectorAll('a[href*="#"]');e.forEach(function(n){n.addEventListener("click",function(e){e.preventDefault();var t=document.querySelector(n.getAttribute("href")).getBoundingClientRect().top+window.pageYOffset;window.scroller=setInterval(o(t),15)})})}();