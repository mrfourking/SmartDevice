"use strict";!function(){function t(t){return function(){var e;(e=t).classList.add("footer__title--active"),e.nextElementSibling.classList.add("accordion--open"),n&&(n.classList.remove("footer__title--active"),n.nextElementSibling.classList.remove("accordion--open")),n=n===e?0:e}}var n,e=document.querySelectorAll(".accordion"),o=document.querySelectorAll(".footer__title");e.forEach(function(e){e.classList.remove("accordion--nojs")}),o.forEach(function(e){e.addEventListener("click",t(e))})}(),function(){var e=document.querySelectorAll(".about p"),n=[];e.forEach(function(e){n.push(e.innerText)});var t;window.addEventListener("resize",function(){t=t||setTimeout(function(){t=null,document.body.clientWidth<=1023?e.forEach(function(e){var t=e.innerText;200<t.length&&(e.innerText=t.substr(0,200)+"..")}):e.forEach(function(e,t){e.innerText=n[t]})},66)},!1)}(),function(){function n(e){var t=0,n=e.value;n.substr(t,a.length)!==a?e.setCustomValidity(u):(t+=a.length,isNaN(Number(n.substr(t,3)))?e.setCustomValidity(u):(t+=3,")"!==n.substr(t,1)?e.setCustomValidity(u):(t+=")".length,isNaN(Number(n.substr(t,3)))?e.setCustomValidity(u):(t+=3,n.substr(t,1)!==i?e.setCustomValidity(u):(t+=i.length,isNaN(Number(n.substr(t,2)))?e.setCustomValidity(u):(t+=2,n.substr(t,1)!==i?e.setCustomValidity(u):(t+=i.length,isNaN(Number(n.substr(t,2)))||n.substr(t,2).length<2?e.setCustomValidity(u):e.setCustomValidity(""))))))))}function o(e,t){if(e.value.length<16)switch(e.value.length){case 0:case 1:case 2:case 3:e.value=a;break;case 6:e.value+=")";break;case 10:case 13:e.value+=i;break;default:/[\d]/g.test(t.key)&&(e.value+=t.key)}}function r(t){return function(e){t.value.length<4&&8===e.keyCode&&(t.value=a),/[\d]/g.test(e.key)?o(t,e.key):t.value=t.value.replace(/[^0-9\+\(\-)]/,"")}}var a="+7(",i="-",u="Номер телефона не соответствует формату +7(ХХХ)ХХХ-ХХ-ХХ",e=document.querySelectorAll('input[type="tel"]');e.forEach(function(t){t.addEventListener("focus",function(){var e;o(t),t.addEventListener("keydown",function(e){return e.stopImmediatePropagation(),!1}),t.addEventListener("keypress",function(e){return e.stopImmediatePropagation(),!1}),t.addEventListener("keyup",r(t)),t.addEventListener("input",(e=t,function(){n(e)}))}),t.addEventListener("blur",function(){t.value.length<=a.length&&(t.value=""),t.removeEventListener("keyup",r(t))})}),window.inputMask={checkPhoneNumber:n}}(),function(){var e=document.querySelector(".header__callback-button"),t=document.querySelector(".modal"),n=t.querySelector(".callback-form__button-close"),o=t.querySelector("#name-modal"),r=t.querySelector("#phone-modal"),a=t.querySelector("#question-modal"),i=!0,u="",c="",s="";try{u=localStorage.getItem("userName"),c=localStorage.getItem("userPhone"),s=localStorage.getItem("userMessage")}catch(e){i=!1}function l(){t.classList.remove("modal--open"),document.body.classList.remove("scroll-hidden"),document.removeEventListener("keydown",m),document.removeEventListener("click",v)}function d(){l(),i&&(localStorage.setItem("userName",o.value),localStorage.setItem("userPhone",r.value),localStorage.setItem("userMessage",a.value))}var m=function(e){27===e.keyCode&&l()},v=function(e){e.target===t||t.contains(e.target)||l()};e.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),t.classList.add("modal--open"),document.body.classList.add("scroll-hidden"),o.focus(),i&&(o.value=u,r.value=c,a.value=s),document.addEventListener("keydown",m),document.addEventListener("click",v)}),t.addEventListener("submit",function(){window.inputMask.checkPhoneNumber(r),d()}),n.addEventListener("click",function(e){e.preventDefault(),d()})}(),function(){function o(n){return function(){var e,t;(t=(e=n)/20)>window.pageYOffset-e&&window.innerHeight+window.pageYOffset<document.body.offsetHeight?window.scrollBy(0,t):(window.scrollTo(0,e),clearInterval(window.scroller))}}var e=document.querySelector(".main").querySelectorAll('a[href*="#"]');e.forEach(function(n){n.addEventListener("click",function(e){e.preventDefault();var t=document.querySelector(n.getAttribute("href")).getBoundingClientRect().top+window.pageYOffset;window.scroller=setInterval(o(t),15)})})}();