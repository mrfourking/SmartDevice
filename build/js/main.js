"use strict";!function(){function t(t){return function(){var e;(e=t).classList.add("footer__title--active"),e.nextElementSibling.classList.add("accordion--open"),n&&(n.classList.remove("footer__title--active"),n.nextElementSibling.classList.remove("accordion--open")),n=n===e?0:e}}var n,e=document.querySelectorAll(".accordion"),o=document.querySelectorAll(".footer__title");e.forEach(function(e){e.classList.remove("accordion--nojs")}),o.forEach(function(e){e.addEventListener("click",t(e))})}(),function(){var e=document.querySelectorAll(".about p"),n=[];e.forEach(function(e){n.push(e.innerText)});var t;window.addEventListener("resize",function(){t=t||setTimeout(function(){t=null,document.body.clientWidth<=1023?e.forEach(function(e){var t=e.innerText;200<t.length&&(e.innerText=t.substr(0,200)+"..")}):e.forEach(function(e,t){e.innerText=n[t]})},66)},!1)}(),function(){function n(e,t){if(e.value.length<16)switch(e.value.length){case 0:case 1:case 2:case 3:e.value=a;break;case 6:e.value+=")";break;case 10:case 13:e.value+=r;break;default:/[\d]/g.test(t.key)&&(e.value+=t.key)}}function t(t){return function(e){t.value.length<4&&8===e.keyCode&&(t.value=a),/[\d]/g.test(e.key)?n(t,e.key):t.value=t.value.replace(/[^0-9\+\(\-)]/,"")}}function o(n){return function(){var e,t;t=0,(e=n).value.substr(t,a.length)!==a?e.setCustomValidity(u):(t+=a.length,isNaN(Number(e.value.substr(t,3)))?e.setCustomValidity(u):(t+=3,")"!==e.value.substr(t,1)?e.setCustomValidity(u):(t+=")".length,isNaN(Number(e.value.substr(t,3)))?e.setCustomValidity(u):(t+=3,e.value.substr(t,1)!==r?e.setCustomValidity(u):(t+=r.length,isNaN(Number(e.value.substr(t,2)))?e.setCustomValidity(u):(t+=2,e.value.substr(t,1)!==r||isNaN(Number(e.value.substr(t,2)))?e.setCustomValidity(u):e.setCustomValidity("")))))))}}var a="+7(",r="-",u="Номер телефона не соответствует формату +7(ХХХ)ХХХ-ХХ-ХХ",e=document.querySelectorAll('input[type="tel"');e.forEach(function(e){e.addEventListener("focus",function(){n(e),e.addEventListener("keydown",function(e){return e.stopImmediatePropagation(),!1}),e.addEventListener("keypress",function(e){return e.stopImmediatePropagation(),!1}),e.addEventListener("keyup",t(e)),e.addEventListener("input",o(e))}),e.addEventListener("blur",function(){e.value.length<=a.length&&(e.value=""),e.removeEventListener("keyup",t(e))})})}(),function(){var e=document.querySelector(".header__callback-button"),t=document.querySelector(".modal"),n=t.querySelector(".callback-form__button-close"),o=t.querySelector("#name-modal"),a=t.querySelector("#phone-modal"),r=t.querySelector("#question-modal"),u=!0,i="",l="",c="";try{i=localStorage.getItem("userName"),l=localStorage.getItem("userPhone"),c=localStorage.getItem("userMessage")}catch(e){u=!1}function s(){t.classList.remove("modal--open"),document.body.classList.remove("scroll-hidden"),document.removeEventListener("keydown",v),document.removeEventListener("click",f)}function d(){s(),u&&(localStorage.setItem("userName",o.value),localStorage.setItem("userPhone",a.value),localStorage.setItem("userMessage",r.value))}var v=function(e){27===e.keyCode&&s()},f=function(e){e.target===t||t.contains(e.target)||s()};e.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),t.classList.add("modal--open"),document.body.classList.add("scroll-hidden"),o.focus(),u&&(o.value=i,a.value=l,r.value=c),document.addEventListener("keydown",v),document.addEventListener("click",f)}),t.addEventListener("submit",function(){d()}),n.addEventListener("click",function(e){e.preventDefault(),d()})}(),function(){function o(n){return function(){var e,t;(t=(e=n)/20)>window.pageYOffset-e&&window.innerHeight+window.pageYOffset<document.body.offsetHeight?window.scrollBy(0,t):(window.scrollTo(0,e),clearInterval(window.scroller))}}var e=document.querySelector(".main").querySelectorAll('a[href*="#"]');e.forEach(function(n){n.addEventListener("click",function(e){e.preventDefault();var t=document.querySelector(n.getAttribute("href")).getBoundingClientRect().top+window.pageYOffset;window.scroller=setInterval(o(t),15)})})}();