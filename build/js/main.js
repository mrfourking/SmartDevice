"use strict";!function(){function t(t){return function(){var e;(e=t).classList.add("footer__title--active"),e.nextElementSibling.classList.add("accordion--open"),n&&(n.classList.remove("footer__title--active"),n.nextElementSibling.classList.remove("accordion--open")),n=n===e?0:e}}var n,e=document.querySelectorAll(".accordion"),o=document.querySelectorAll(".footer__title");e.forEach(function(e){e.classList.remove("accordion--nojs")}),o.forEach(function(e){e.addEventListener("click",t(e))})}(),function(){var e=document.querySelectorAll(".about__content");document.body.clientWidth<=1023&&e.forEach(function(e){var t=e.innerText;200<t.length&&(e.innerText=t.substr(0,200)+"..")})}(),function(){function n(e,t){if(e.value.length<16)switch(e.value.length){case 0:case 1:case 2:case 3:e.value=o;break;case 6:e.value+=")";break;case 10:case 13:e.value+="-";break;default:/[\d]/g.test(t.key)&&(e.value+=t.key)}}function t(t){return function(e){t.value.length<4&&8===e.keyCode&&(t.value=o),/[\d]/g.test(e.key)?n(t,e.key):t.value=t.value.replace(/[^0-9\+\()]/,"")}}var o="+7(",e=document.querySelectorAll('input[type="tel"');e.forEach(function(e){e.addEventListener("focus",function(){n(e),e.addEventListener("keydown",function(e){return e.stopImmediatePropagation(),!1}),e.addEventListener("keypress",function(e){return e.stopImmediatePropagation(),!1}),e.addEventListener("keyup",t(e))}),e.addEventListener("blur",function(){e.value.length<=o.length&&(e.value=""),e.removeEventListener("keyup",t(e))})})}(),function(){var e=document.querySelector(".header__callback-button"),t=document.querySelector(".modal"),n=t.querySelector(".callback-form__button-close"),o=t.querySelector("#name-modal"),c=t.querySelector("#phone-modal"),r=t.querySelector("#question-modal"),a=!0,l="",u="",i="";try{l=localStorage.getItem("userName"),u=localStorage.getItem("userPhone"),i=localStorage.getItem("userMessage")}catch(e){a=!1}function s(){t.classList.remove("modal--open"),document.body.classList.remove("scroll-hidden"),document.removeEventListener("keydown",v),document.removeEventListener("click",f)}function d(){s(),a&&(localStorage.setItem("userName",o.value),localStorage.setItem("userPhone",c.value),localStorage.setItem("userMessage",r.value))}var v=function(e){27===e.keyCode&&s()},f=function(e){e.target===t||t.contains(e.target)||s()};e.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),t.classList.add("modal--open"),document.body.classList.add("scroll-hidden"),o.focus(),a&&(o.value=l,c.value=u,r.value=i),document.addEventListener("keydown",v),document.addEventListener("click",f)}),t.addEventListener("submit",function(){d()}),n.addEventListener("click",function(e){e.preventDefault(),d()})}(),function(){function o(n){return function(){var e,t;(t=(e=n)/20)>window.pageYOffset-e&&window.innerHeight+window.pageYOffset<document.body.offsetHeight?window.scrollBy(0,t):(window.scrollTo(0,e),clearInterval(window.scroller))}}var e=document.querySelector(".main").querySelectorAll('a[href*="#"]');e.forEach(function(n){n.addEventListener("click",function(e){e.preventDefault();var t=document.querySelector(n.getAttribute("href")).getBoundingClientRect().top+window.pageYOffset;window.scroller=setInterval(o(t),15)})})}();